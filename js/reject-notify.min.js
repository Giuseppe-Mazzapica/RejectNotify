!function(e,t,n,a){"use strict";var r={};r.debug_info=function(e,n,a){n.append("<h3>"+t.debug_info+":</h3><ul></ul>");var r=n.children("ul").eq(0);a&&r.append("<li>"+a+"</li>").show(),e&&(e.sender&&r.append("<li><em>"+t.sender+"</em>: "+e.sender+"</li>"),e.recipient&&r.append("<li><em>"+t.recipient+"</em>: "+e.recipient+"</li>"),e.reason&&r.append("<li><em>"+t.email_content+"</em>: "+e.reason+"</li>"),e.subject&&r.append("<li><em>"+t.email_subject+"</em>: "+e.subject+"</li>"))},r.output=function(n,a){e("#send_rejected_form_wrap").find(".loading").remove();var o=e("#reject-notify-target"),i=n["class"];n&&!a&&(n.message&&i?(o.addClass(i).html("<strong>"+n.message+"</strong>"),"error"===i&&"1"===t.debug&&r.debug_info(n,o,!1)):(o.addClass("error").html("<strong>"+t.def_mail_error+"</strong>"),"1"===t.debug&&r.debug_info(n,o,t.ajax_wrong_data))),(!n||a)&&(o.addClass("error").html("<strong>"+t.def_mail_error+"</strong>"),"1"===t.debug&&r.debug_info(!1,o,t.ajax_failed)),o.show()},e(a).ready(function(){e(a).on("click","#send_reject_mail_box",function(a){a.preventDefault();var r=e(this).data("post"),o=n+"?action="+t.action+"&postid="+r;return r?void tb_show("",o):!1}),e(a).on("submit","#send_rejected_form_form",function(a){a.preventDefault();var o=e(this),i=o.serialize();o.parent().append('<p class="loading">'+t.please_wait+"</p>"),o.remove(),e.ajax({type:"POST",url:n,data:i,dataType:"json"}).done(function(n){r.output(n,!1);var a="<strong>"+t.already_rejected+"</strong>";e("#send_reject_mail_box").parent().empty().html(a)}).fail(function(){r.output(!1,!0)})})})}(jQuery,RejectNotifyData,ajaxurl,document);